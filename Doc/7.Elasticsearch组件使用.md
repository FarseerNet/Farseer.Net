### Elasticsearch组件使用
模块名：`ElasticSearchModule`

`UserPo.cs` 实体类
```c#
[ElasticsearchType(IdProperty = "Id")]
public class UserPo
{
    [Keyword]
    public string Id { get; set; }
    [Keyword]
    public string UserName { get; set; }
    
    /// <summary>
    /// 年龄
    /// </summary>
    public int Age { get; set; }
    
    /// <summary>
    /// 自我介绍
    /// </summary>
    [Text]
    public string Desc { get; set; }
}
```

`TestContext.cs` ES上下文
```c#
/// <summary>
/// 测试ES上下文
/// </summary>
public class TestContext : EsContext<TestContext>
{
    public TestContext() : base("default")
    {
    }

    protected override void CreateModelInit(Dictionary<string, SetDataMap> map)
    {
        map["User"].SetName($"User_{DateTime.Now:yyyy_MM_dd}", 2, 0, "User");
    }

    /// <summary>
    /// 用户索引
    /// </summary>
    public IndexSet<UserPo> User { get; set; }
}
```

写入ES
```c#
TestContext.Data.User.Insert(model: new UserPo
{
    Id       = Guid.NewGuid().ToString(),
    UserName = "steden",
    Age      = DateTime.Now.Second,
    Desc     = $"大家好，我是steden,我今年{DateTime.Now.Second}岁"
});
```

另一个例子，获取数据列表
```c#
    private void GetList()
    {
        var indexSet = LinkTrackEsContext.Data.LinkTrackContext.Sort(s => s.Descending(d => d.StartTs));
        if (!string.IsNullOrWhiteSpace(_curAppId))
        {
            indexSet.Where(o => o.Term(t => t.AppId, _curAppId));
        }

        _lst = indexSet.ToList(_pageSize, PageIndex, out _totalCount);
    }
```

更多例子
```c#
TestContext.Data.User.Where(q => q.Term(t => t.Age, 33)).Where(o => o.UserName.Contains("ste")).ToList();
TestContext.Data.User.Where(o => o.Desc.Contains("我今年")).ToList();
TestContext.Data.User.Where(o => o.Desc.StartsWith("大家好")).ToList();
TestContext.Data.User.Where(o => o.UserName.EndsWith("en")).ToList();
TestContext.Data.User.Where(o => o.UserName != "aaa").ToList();
TestContext.Data.User.Where(o => o.Age      == 30).Where(o => o.UserName == "steden").ToList();
TestContext.Data.User.Where(o => o.UserName == "steden" && o.Age == 18).ToList();
TestContext.Data.User.Where(o => o.UserName == "steden" || o.Age >= 10).ToList();
```

你会发现，这里的操作与数据库的操作很相似，这也是我要去实现的目标。减少大家对不同存储的区别，使用一样的代码完成同样的工作。